# Arm Cortex-M23 プロセッサ 技術仕様書

## 1. 概要
Cortex-M23は、Armが開発した省エネルギー型の組み込みプロセッサです。非常に少ないゲート数で実装され、マイクロコントローラーや深い組み込みアプリケーション向けに最適化されています。

## 2. アーキテクチャ仕様

### 2.1 コア機能
- Armv8-Mアーキテクチャベース
- 省エネルギー設計
- エリア最適化設計
- セキュリティ拡張機能（オプション）

### 2.2 メモリ/バスインターフェース
- AHB-Liteバスインターフェース
- バイト、ハーフワード、ワードアクセスサポート
- エンディアン設定可能（ビッグエンディアン/リトルエンディアン）
- PPB（Private Peripheral Bus）アクセスは常にリトルエンディアン

### 2.3 電力管理機能
- 最大3つの電力ドメインサポート
  - アルウェイズオン電力ドメイン（WICとDAPの一部）
  - デバッグ電力ドメイン（プロセッサデバッグリソースとDAPの残り）
  - システム電力ドメイン（プロセッサの残りとNVIC）
- State Retention and Power Gating (SRPG)サポート
- 効率的な省電力モード
- Q-Channelインターフェースによる高度な電力制御

### 2.4 デバッグ機能
- Debug Access Port (DAP)搭載
- 以下のデバッグプロトコルをサポート：
  - Serial Wire
  - Serial Wire Multi-Drop
  - JTAG
- 最大4つのブレークポイントコンパレータ
- 最大4つのウォッチポイントコンパレータ
- Cross Trigger Interface (CTI)サポート
- CoreSightアーキテクチャ準拠

### 2.5 トレース機能
以下のいずれかを選択可能：
- CoreSight Micro Trace Buffer (MTB)
- Embedded Trace Macrocell (ETM)

### 2.6 セキュリティ機能
- Armv8-Mセキュリティ拡張
- メモリ保護ユニット（MPU）
  - セキュアMPU：最大16リージョン
  - ノンセキュアMPU：最大16リージョン
- セキュリティ属性ユニット（SAU）：最大8リージョン
- セキュア/ノンセキュア状態サポート

### 2.7 割り込み機能
- Nested Vectored Interrupt Controller (NVIC)内蔵
- 最大240個の外部割り込みサポート
- ノンマスカブル割り込み（NMI）サポート
- Wakeup Interrupt Controller (WIC)による効率的な割り込み管理

## 3. 階層構造

### 3.1 GREBEレベル
- 基本プロセッサコンポーネント
- 変更不可能な最小構成

### 3.2 GREBEINTEGRATIONレベル
以下のコンポーネントを含む：
- GREBEコンポーネント
- WIC
- Q-Channel
- MTBまたはETM（選択可能）
- CTI
- カスタマイズ可能な実装レベル

### 3.3 GREBEINTEGRATION_MCUレベル
以下のコンポーネントを追加：
- DAP
- TPIU（ETM選択時のみ）
- MCU_ROMテーブル
- APBインターコネクト
- SBISTC（オプション）

## 4. バスインターフェース仕様

### 4.1 AHB-Lite特性
- HTRANSはIDLEとNONSEQUENTIALのみ
- バーストトランスファー未サポート（HBURST = 3'b000）
- アドレスはHSIZEに整列必須
- サポートするアクセスサイズ：
  - バイト（8ビット）
  - ハーフワード（16ビット）
  - ワード（32ビット）

### 4.2 I/Oポート（オプション）
- 低レイテンシの入出力用
- 専用アドレス範囲での実装
- シングルサイクルでの動作

## 5. 推奨用途
- マイクロコントローラーシステム
- 省電力が重要な組み込みシステム
- セキュアIoTデバイス
- 産業用制御システム
- 自動車用電子制御ユニット